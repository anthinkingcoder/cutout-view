<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <title>cutout demo</title>
  <style>
    .extra {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 10px;
    }

    .button {
      width: 100%;
      height: 30px;
      line-height: 30px;
      background-color: #3c76ff;
      border: 1px solid #3c76ff;
      color: #fff;
      padding: 5px;
      text-align: center;
    }

    .down-btn {
      width: 16px;
      height: 16px;
      display: block;
      position: absolute;
      bottom: 0;
      left: 50%;
      margin-left: -8px;
      animation: down 2s linear 1s infinite normal;
    }

    @keyframes down {
      0% {
        transform: translate3d(0, 0, 0);
      }

      10% {
        transform: translate3d(0, 40%, 0);
      }

      20% {
        transform: translate3d(0, 0%, 0);
      }

      100% {
        transform: translate3d(0, 0, 0);
      }
    }

    #app {
    }
  </style>
</head>

<body>
<div id="app">
  <cutout :show-height="800" :on="on" @on-cancel="cancel">
    <div slot="layer">
      <img src="./img/down.png" class="down-btn" @click="open">
    </div>
    <div slot="extra" class="extra">
      <div class="button" @click="open">
        关注作者查看全文
      </div>
    </div>
    <h1
      style="box-sizing: inherit; border: 0px; font-variant-numeric: inherit; font-variant-east-asian: inherit; font-stretch: inherit; font-size: 33px; line-height: 1; font-family: Geomanist, sans-serif; vertical-align: baseline; margin: 0px 0px 0.25em; padding: 0px; color: rgb(70, 94, 105); white-space: normal;">
      tree shaking
    </h1>
    <p>
      <span
        style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px;"><a
        class="page-links__link" href="https://webpack.js.org/guides/tree-shaking/" target="_blank"
        style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin: 0px; padding: 0px; color: rgb(32, 134, 215); text-decoration-line: none; transition: color 250ms; display: inline-flex;">查看原文</a><span
        class="page-links__gap"
        style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px 1em; padding: 0px;">|</span></span><a
      class="page-links__link"
      href="https://github.com/docschina/webpack.js.org/edit/cn/src/content/guides/tree-shaking.md"
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin: 0px; padding: 0px; color: rgb(32, 134, 215); text-decoration-line: none; transition: color 250ms; display: inline-flex;">编辑此页<em
      class="page-links__icon icon-edit"
      style="box-sizing: inherit; border: 0px; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 0.9em; line-height: 1; font-family: inherit; vertical-align: baseline; margin: 0px 0px 0px 0.5em; padding: 0px; align-self: center;"></em></a>
    </p>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      <em
        style="box-sizing: inherit; border: 0px; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; margin: 0px; padding: 0px;">tree
        shaking</em>&nbsp;是一个术语，通常用于描述移除 JavaScript 上下文中的未引用代码(dead-code)。它依赖于 ES2015 模块系统中的<a
      href="http://exploringjs.com/es6/ch_modules.html#static-module-structure"
      style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px; color: rgb(32, 134, 215); text-decoration-line: none; transition: color 250ms;">静态结构特性</a>，例如&nbsp;<a
      href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import"
      style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px; color: rgb(32, 134, 215); text-decoration-line: none; transition: color 250ms;"><code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">import</code></a>&nbsp;和&nbsp;<a
      href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export"
      style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px; color: rgb(32, 134, 215); text-decoration-line: none; transition: color 250ms;"><code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">export</code></a>。这个术语和概念实际上是兴起于
      ES2015 模块打包工具&nbsp;<a href="https://github.com/rollup/rollup"
                            style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px; color: rgb(32, 134, 215); text-decoration-line: none; transition: color 250ms;">rollup</a>。
    </p>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      新的 webpack 4 正式版本，扩展了这个检测能力，通过&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">package.json</code>&nbsp;的&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">&quot;sideEffects&quot;</code>&nbsp;属性作为标记，向
      compiler 提供提示，表明项目中的哪些文件是 &quot;pure(纯的 ES2015 模块)&quot;，由此可以安全地删除文件中未使用的部分。
    </p>
    <blockquote class="tip"
                style="box-sizing: inherit; border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: none; border-image: initial; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin: 1em 0px; padding: 0.75em 1em; quotes: none; color: rgb(97, 140, 160); border-radius: 3px; background-color: rgb(220, 242, 253);">
      <p>
        本指南的继承自<a href="https://webpack.docschina.org/guides/getting-started"
                  style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px; color: rgb(32, 134, 215); text-decoration-line: none; transition: color 250ms;">起步指南</a>。如果你尚未阅读该指南，请先行阅读。
      </p>
    </blockquote>
    <h2 class="header"
        style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: 28px; line-height: 1.4; font-family: Geomanist, sans-serif; vertical-align: baseline; margin: 1.5em 0px 0.25em; padding: 0px; color: rgb(70, 94, 105);">
      <a class="anchor"
         href="https://webpack.docschina.org/guides/tree-shaking/#%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E9%80%9A%E7%94%A8%E6%A8%A1%E5%9D%97"
         style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px; color: rgb(32, 134, 215); text-decoration-line: none; transition: color 250ms;"></a><span
      class="text"
      style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px;">添加一个通用模块</span><a
      class="icon-link"
      href="https://webpack.docschina.org/guides/tree-shaking/#%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E9%80%9A%E7%94%A8%E6%A8%A1%E5%9D%97"
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 0.7em; line-height: 1; font-family: inherit; vertical-align: baseline; margin: 0px 0px 0px 16px; padding: 0px; color: rgb(179, 179, 179); text-decoration-line: none; transition: color 250ms; display: inline-block; transform: rotate(-45deg);"></a>
    </h2>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      在我们的项目中添加一个新的通用模块文件&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">src/math.js</code>，此文件导出两个函数：
    </p>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      <span
        style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: 600; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; margin: 0px; padding: 0px;">project</span>
    </p>
    <pre
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: 19px; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 8px 16px; background-color: rgb(43, 58, 66); overflow: auto; border-radius: 3px;">webpack-demo
|- package.json
|- webpack.config.js
|- /dist
  |- bundle.js
  |- index.html
|- /src
  |- index.js+ |- math.js|- /node_modules</pre>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      <span
        style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: 600; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; margin: 0px; padding: 0px;">src/math.js</span>
    </p>
    <pre
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: 19px; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 8px 16px; background-color: rgb(43, 58, 66); overflow: auto; border-radius: 3px;">export function square(x) {
  return x * x;}export function cube(x) {
  return x * x * x;}</pre>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      接着，更新入口脚本，使用其中一个新方法，并且为了简单，将&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">lodash</code>&nbsp;删除：
    </p>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      <span
        style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: 600; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; margin: 0px; padding: 0px;">src/index.js</span>
    </p>
    <pre
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: 19px; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 8px 16px; background-color: rgb(43, 58, 66); overflow: auto; border-radius: 3px;">- import _ from &#39;lodash&#39;;+ import { cube } from &#39;./math.js&#39;;

  function component() {-   var element = document.createElement(&#39;div&#39;);+   var element = document.createElement(&#39;pre&#39;);-   // lodash 是由当前 script 脚本 import 导入进来的-   element.innerHTML = _.join([&#39;Hello&#39;, &#39;webpack&#39;], &#39; &#39;);+   element.innerHTML = [+     &#39;Hello webpack!&#39;,+     &#39;5 cubed is equal to &#39; + cube(5)+   ].join(&#39;\n\n&#39;);

    return element;
  }

  document.body.appendChild(component());</pre>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      注意，我们<span
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: 600; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; margin: 0px; padding: 0px;">并未从&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">src/math.js</code>&nbsp;模块中&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">import</code>&nbsp;导入&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">square</code>&nbsp;方法</span>。这个功能是所谓的“未引用代码(dead
      code)”，也就是说，应该删除掉未被引用的&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">export</code>。现在让我们运行我们的npm
      脚本&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">npm
      run build</code>，并检查输出的 bundle：
    </p>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      <span
        style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: 600; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; margin: 0px; padding: 0px;">dist/bundle.js (around lines 90 - 100)</span>
    </p>
    <pre
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: 19px; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 8px 16px; background-color: rgb(43, 58, 66); overflow: auto; border-radius: 3px;">/* 1 *//***/ (function(module, __webpack_exports__, __webpack_require__) {&quot;use strict&quot;;/* unused harmony export square *//* harmony export (immutable) */ __webpack_exports__[&quot;a&quot;] = cube;function square(x) {
  return x * x;}function cube(x) {
  return x * x * x;}</pre>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      注意，上面的&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">unused
      harmony export square</code>&nbsp;注释。如果你看下面的代码，你会注意到&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">square</code>&nbsp;没有被导入，但是，它仍然被包含在
      bundle 中。我们将在下一节中解决这个问题。
    </p>
    <h2 class="header"
        style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: 28px; line-height: 1.4; font-family: Geomanist, sans-serif; vertical-align: baseline; margin: 1.5em 0px 0.25em; padding: 0px; color: rgb(70, 94, 105);">
      <a class="anchor"
         href="https://webpack.docschina.org/guides/tree-shaking/#%E5%B0%86%E6%96%87%E4%BB%B6%E6%A0%87%E8%AE%B0%E4%B8%BA%E6%97%A0%E5%89%AF%E4%BD%9C%E7%94%A8-side-effect-free-"
         style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px; color: rgb(32, 134, 215); text-decoration-line: none; transition: color 250ms;"></a><span
      class="text"
      style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px;">将文件标记为无副作用(side-effect-free)</span><a
      class="icon-link"
      href="https://webpack.docschina.org/guides/tree-shaking/#%E5%B0%86%E6%96%87%E4%BB%B6%E6%A0%87%E8%AE%B0%E4%B8%BA%E6%97%A0%E5%89%AF%E4%BD%9C%E7%94%A8-side-effect-free-"
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 0.7em; line-height: 1; font-family: inherit; vertical-align: baseline; margin: 0px 0px 0px 16px; padding: 0px; color: rgb(179, 179, 179); text-decoration-line: none; transition: color 250ms; display: inline-block; transform: rotate(-45deg);"></a>
    </h2>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      在一个纯粹的 ESM 模块世界中，识别出哪些文件有副作用很简单。然而，我们的项目无法达到这种纯度，所以，此时有必要向 webpack 的 compiler 提供提示哪些代码是“纯粹部分”。
    </p>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      这种方式是通过 package.json 的&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">&quot;sideEffects&quot;</code>&nbsp;属性来实现的。
    </p>
    <pre
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: 19px; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 8px 16px; background-color: rgb(43, 58, 66); overflow: auto; border-radius: 3px;">{
  &quot;name&quot;: &quot;your-project&quot;,
  &quot;sideEffects&quot;: false}</pre>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      如同上面提到的，如果所有代码都不包含副作用，我们就可以简单地将该属性标记为&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">false</code>，来告知
      webpack，它可以安全地删除未用到的 export 导出。
    </p>
    <blockquote class="tip"
                style="box-sizing: inherit; border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: none; border-image: initial; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin: 1em 0px; padding: 0.75em 1em; quotes: none; color: rgb(97, 140, 160); border-radius: 3px; background-color: rgb(220, 242, 253);">
      <p>
        「副作用」的定义是，在导入时会执行特殊行为的代码，而不是仅仅暴露一个 export 或多个 export。举例说明，例如 polyfill，它影响全局作用域，并且通常不提供 export。
      </p>
    </blockquote>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      如果你的代码确实有一些副作用，那么可以改为提供一个数组：
    </p>
    <pre
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: 19px; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 8px 16px; background-color: rgb(43, 58, 66); overflow: auto; border-radius: 3px;">{
  &quot;name&quot;: &quot;your-project&quot;,
  &quot;sideEffects&quot;: [
    &quot;./src/some-side-effectful-file.js&quot;
  ]}</pre>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      数组方式支持相关文件的相对路径、绝对路径和 glob 模式。它在内部使用&nbsp;<a href="https://github.com/micromatch/micromatch#matching-features"
                                                   style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px; color: rgb(32, 134, 215); text-decoration-line: none; transition: color 250ms;">micromatch</a>。
    </p>
    <blockquote class="tip"
                style="box-sizing: inherit; border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: none; border-image: initial; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin: 1em 0px; padding: 0.75em 1em; quotes: none; color: rgb(97, 140, 160); border-radius: 3px; background-color: rgb(220, 242, 253);">
      <p>
        注意，任何导入的文件都会受到 tree shaking 的影响。这意味着，如果在项目中使用类似&nbsp;<code
        style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: inherit; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: baseline; margin: 0px 2px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; color: inherit;">css-loader</code>&nbsp;并导入
        CSS 文件，则需要将其添加到 side effect 列表中，以免在生产模式中无意中将它删除：
      </p>
    </blockquote>
    <pre
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: 19px; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 8px 16px; background-color: rgb(43, 58, 66); overflow: auto; border-radius: 3px;">{
  &quot;name&quot;: &quot;your-project&quot;,
  &quot;sideEffects&quot;: [
    &quot;./src/some-side-effectful-file.js&quot;,
    &quot;*.css&quot;
  ]}</pre>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      最后，还可以在&nbsp;<a href="https://github.com/webpack/webpack/issues/6065#issuecomment-351060570"
                      style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px; color: rgb(32, 134, 215); text-decoration-line: none; transition: color 250ms;"><code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">module.rules</code>&nbsp;配置选项</a>&nbsp;中设置&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">&quot;sideEffects&quot;</code>。
    </p>
    <h2 class="header"
        style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: 28px; line-height: 1.4; font-family: Geomanist, sans-serif; vertical-align: baseline; margin: 1.5em 0px 0.25em; padding: 0px; color: rgb(70, 94, 105);">
      <a class="anchor" href="https://webpack.docschina.org/guides/tree-shaking/#%E5%8E%8B%E7%BC%A9%E8%BE%93%E5%87%BA"
         style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px; color: rgb(32, 134, 215); text-decoration-line: none; transition: color 250ms;"></a><span
      class="text"
      style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px;">压缩输出</span><a
      class="icon-link" href="https://webpack.docschina.org/guides/tree-shaking/#%E5%8E%8B%E7%BC%A9%E8%BE%93%E5%87%BA"
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 0.7em; line-height: 1; font-family: inherit; vertical-align: baseline; margin: 0px 0px 0px 16px; padding: 0px; color: rgb(179, 179, 179); text-decoration-line: none; transition: color 250ms; display: inline-block; transform: rotate(-45deg);"></a>
    </h2>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      通过如上方式，我们已经可以通过&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">import</code>&nbsp;和&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">export</code>&nbsp;语法，找出那些需要删除的“未使用代码(dead
      code)”，然而，我们不只是要找出，还需要在 bundle 中删除它们。为此，我们将使用&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">-p</code>(production)
      这个 webpack 编译标记，来启用 uglifyjs 压缩插件。
    </p>
    <blockquote class="tip"
                style="box-sizing: inherit; border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: none; border-image: initial; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin: 1em 0px; padding: 0.75em 1em; quotes: none; color: rgb(97, 140, 160); border-radius: 3px; background-color: rgb(220, 242, 253);">
      <p>
        注意，<code
        style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: inherit; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: baseline; margin: 0px 2px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; color: inherit;">--optimize-minimize</code>&nbsp;标记也会在
        webpack 内部调用&nbsp;<code
        style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: inherit; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: baseline; margin: 0px 2px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; color: inherit;">UglifyJsPlugin</code>。
      </p>
    </blockquote>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      从 webpack 4 开始，也可以通过&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">&quot;mode&quot;</code>&nbsp;配置选项轻松切换到压缩输出，只需设置为&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">&quot;production&quot;</code>。
    </p>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      <span
        style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: 600; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; margin: 0px; padding: 0px;">webpack.config.js</span>
    </p>
    <pre
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: 19px; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 8px 16px; background-color: rgb(43, 58, 66); overflow: auto; border-radius: 3px;">const path = require(&#39;path&#39;);

module.exports = {
  entry: &#39;./src/index.js&#39;,
  output: {
    filename: &#39;bundle.js&#39;,
    path: path.resolve(__dirname, &#39;dist&#39;)- }+ },+ mode: &quot;production&quot;};</pre>
    <blockquote class="tip"
                style="box-sizing: inherit; border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: none; border-image: initial; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin: 1em 0px; padding: 0.75em 1em; quotes: none; color: rgb(97, 140, 160); border-radius: 3px; background-color: rgb(220, 242, 253);">
      <p>
        注意，也可以在命令行接口中使用&nbsp;<code
        style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: inherit; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: baseline; margin: 0px 2px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; color: inherit;">--optimize-minimize</code>&nbsp;标记，来使用&nbsp;<code
        style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: inherit; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: baseline; margin: 0px 2px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; color: inherit;">UglifyJSPlugin</code>。
      </p>
    </blockquote>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      准备就绪后，然后运行另一个命令&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">npm
      run build</code>，看看输出结果有没有发生改变。
    </p>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      你发现&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">dist/bundle.js</code>&nbsp;中的差异了吗？显然，现在整个
      bundle 都已经被精简过，但是如果仔细观察，则不会看到&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">square</code>&nbsp;函数被引入，但会看到&nbsp;<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">cube</code>&nbsp;函数的修改版本（<code
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: initial; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: middle; margin: 0px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px; max-width: 100%; overflow: auto;">function
      r(e){return e*e*e}n.a=r</code>）。现在，随着 tree shaking 和代码压缩，我们的 bundle
      减小几个字节！虽然，在这个特定示例中，可能看起来没有减少很多，但是，在具有复杂的依赖树的大型应用程序上运行时，tree shaking 或许会对 bundle 产生显著的体积优化。
    </p>
    <h2 class="header"
        style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: 28px; line-height: 1.4; font-family: Geomanist, sans-serif; vertical-align: baseline; margin: 1.5em 0px 0.25em; padding: 0px; color: rgb(70, 94, 105);">
      <a class="anchor" href="https://webpack.docschina.org/guides/tree-shaking/#%E7%BB%93%E8%AE%BA"
         style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px; color: rgb(32, 134, 215); text-decoration-line: none; transition: color 250ms;"></a><span
      class="text"
      style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px;">结论</span><a
      class="icon-link" href="https://webpack.docschina.org/guides/tree-shaking/#%E7%BB%93%E8%AE%BA"
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 0.7em; line-height: 1; font-family: inherit; vertical-align: baseline; margin: 0px 0px 0px 16px; padding: 0px; color: rgb(179, 179, 179); text-decoration-line: none; transition: color 250ms; display: inline-block; transform: rotate(-45deg);"></a>
    </h2>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      为了学会使用&nbsp;<em
      style="box-sizing: inherit; border: 0px; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; margin: 0px; padding: 0px;">tree
      shaking</em>，你必须……
    </p>
    <ul
      style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin-top: 0.5em; margin-bottom: 1em; padding: 0px 0px 0px 30px;"
      class=" list-paddingleft-2">
      <li>
        <p>
          使用 ES2015 模块语法（即&nbsp;<code
          style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: inherit; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: baseline; margin: 0px 2px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px;">import</code>&nbsp;和&nbsp;<code
          style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: inherit; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: baseline; margin: 0px 2px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px;">export</code>）。
        </p>
      </li>
      <li>
        <p>
          在项目&nbsp;<code
          style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: inherit; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: baseline; margin: 0px 2px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px;">package.json</code>&nbsp;文件中，添加一个
          &quot;sideEffects&quot; 入口。
        </p>
      </li>
      <li>
        <p>
          引入一个能够删除未引用代码(dead code)的压缩工具(minifier)（例如&nbsp;<code
          style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 12.6px; line-height: inherit; font-family: &quot;Source Code Pro&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; vertical-align: baseline; margin: 0px 2px; padding: 2px 6px; background-color: rgba(70, 94, 105, 0.06); border-radius: 3px; text-shadow: rgba(255, 255, 255, 0.6) 0px 1px 0px;">UglifyJSPlugin</code>）。
        </p>
      </li>
    </ul>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      你可以将应用程序想象成一棵树。绿色表示实际用到的源码和 library，是树上活的树叶。灰色表示无用的代码，是秋天树上枯萎的树叶。为了除去死去的树叶，你必须摇动这棵树，使它们落下。
    </p>
    <p
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 14px; line-height: inherit; font-family: inherit; vertical-align: baseline; margin-top: 1em; margin-bottom: 1em; padding: 0px;">
      如果你对优化输出很感兴趣的话，请进入到下一个指南，来了解<a href="https://webpack.docschina.org/guides/production"
                                     style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px; color: rgb(32, 134, 215); text-decoration-line: none; transition: color 250ms;">生产环境</a>中进行构建的详细细节。
    </p>
    <hr/>
    <h3
      style="box-sizing: inherit; border: 0px; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: 23px; line-height: 1.4; font-family: Geomanist, sans-serif; vertical-align: baseline; margin: 1.5em 0px 0.25em; padding: 0px; color: rgb(70, 94, 105);">
      进一步阅读
    </h3>
    <ul
      style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin-top: 0.5em; padding: 0px 0px 0px 30px;"
      class=" list-paddingleft-2">
      <li>
        <p>
          <a href="https://medium.com/webpack/webpack-4-beta-try-it-today-6b1d27d7d7e2#9a67"
             style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px; color: rgb(32, 134, 215); text-decoration-line: none; transition: color 250ms;">webpack
            4 beta — try it today!</a>
        </p>
      </li>
      <li>
        <p>
          <a href="https://webpack.js.org/plugins/module-concatenation-plugin/#debugging-optimization-bailouts"
             style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px; color: rgb(32, 134, 215); text-decoration-line: none; transition: color 250ms;">Debugging
            Optimization Bailouts</a>
        </p>
      </li>
      <li>
        <p>
          <a href="https://github.com/webpack/webpack/issues/6074"
             style="box-sizing: inherit; border: 0px; font: inherit; vertical-align: baseline; margin: 0px; padding: 0px; color: rgb(32, 134, 215); text-decoration-line: none; transition: color 250ms;">Issue
            6074 - Add support for more complex selectors for sideEffects</a>
        </p>
      </li>
    </ul>
    <p>
      <br/>
    </p>
  </cutout>
</div>
</body>
<script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
<script src="../../dist/cutout.js"></script>
<script>
  var app = new Vue({
    el: '#app',
    data: {
      on: true
    },
    methods: {
      open() {
        this.on = false;
      },
      cancel() {
        console.info('cancel cutout');
      }
    }
  })
</script>
</html>
